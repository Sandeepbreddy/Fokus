<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fokus - Settings</title>
    <link rel="stylesheet" href="options.css">
</head>

<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Fokus Settings</h1>
            <p>Configure your content blocking preferences</p>
        </div>

        <!-- Statistics Overview -->
        <div class="card stats-overview">
            <h3>Protection Statistics</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="total-blocks">0</div>
                    <div class="stat-label">Total Blocks</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="domains-blocked">0</div>
                    <div class="stat-label">Domains Blocked</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="keywords-blocked">0</div>
                    <div class="stat-label">Keywords Blocked</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="time-saved">0h</div>
                    <div class="stat-label">Time Saved</div>
                </div>
            </div>
        </div>

        <div class="settings-grid">
            <!-- Blocked Keywords -->
            <div class="card">
                <h3>Blocked Keywords</h3>

                <div class="form-group">
                    <label for="new-keyword">Add New Keyword:</label>
                    <input type="text" id="new-keyword" placeholder="Enter keyword to block">
                </div>
                <button class="btn btn-primary" id="add-keyword">ADD KEYWORD</button>

                <div class="keywords-container" id="keywords-container">
                    <div class="keywords-empty">Loading keywords...</div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-secondary" id="reset-keywords">RESET TO DEFAULTS</button>
                    <button class="btn btn-danger" id="clear-keywords">CLEAR ALL</button>
                </div>
            </div>

            <!-- Custom Domains -->
            <div class="card">
                <h3>Custom Blocked Domains</h3>

                <div class="form-group">
                    <label for="new-domain">Add New Domain:</label>
                    <input type="text" id="new-domain" placeholder="example.com">
                </div>
                <button class="btn btn-primary" id="add-domain">ADD DOMAIN</button>

                <div class="list-container" id="domains-list">
                    <div class="loading">Loading domains...</div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-danger" id="clear-domains">CLEAR ALL</button>
                </div>
            </div>

            <!-- Blocklist Management -->
            <div class="card">
                <h3>Blocklist Sources</h3>
                <p class="description">Automatically block domains from trusted community blocklists.</p>

                <div id="blocklists-container">
                    <div class="loading">Loading blocklist sources...</div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-success" id="force-update">UPDATE ALL LISTS</button>
                    <button class="btn btn-info" id="view-blocked-count">VIEW STATISTICS</button>
                </div>
            </div>

            <!-- Local Backup & Restore -->
            <div class="card compact">
                <h3>Backup & Restore</h3>
                <p class="description">Export your settings for backup or import from another device.</p>

                <div class="btn-group">
                    <button class="btn btn-primary" id="export-settings">EXPORT SETTINGS</button>
                    <button class="btn btn-secondary" id="import-btn">IMPORT SETTINGS</button>
                    <input type="file" id="import-file" style="display: none;" accept=".json">
                </div>

                <div id="backup-message"></div>

                <div class="warning-box">
                    <h5>⚠️ Reset All Settings</h5>
                    <p>This will restore all settings to default values and cannot be undone.</p>
                    <button class="btn btn-danger" id="reset-all">RESET TO DEFAULTS</button>
                </div>
            </div>

            <!-- Extension Status -->
            <div class="card compact">
                <h3>Extension Status</h3>

                <div class="info-box">
                    <div><strong>Protection:</strong> <span id="protection-status" style="color: #2e7d32;">Active</span>
                    </div>
                    <div><strong>Version:</strong> Fokus v1.0.0</div>
                    <div><strong>Browser:</strong> <span id="browser-info">Detecting...</span></div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-info" id="test-blocking">TEST BLOCKING</button>
                    <button class="btn btn-secondary" id="view-logs">EXPORT LOGS</button>
                </div>
            </div>

            <!-- Advanced Settings -->
            <div class="card">
                <h3>Security Settings</h3>

                <!-- PIN Protection -->
                <div class="info-box">
                    <p><strong>Current PIN: 1234</strong> (default)</p>
                    <small>Change your PIN to prevent unauthorized settings changes</small>
                </div>

                <div class="pin-section">
                    <h5>Change PIN</h5>

                    <div class="form-row">
                        <label for="current-pin">Current PIN:</label>
                        <input type="password" id="current-pin" placeholder="Enter current PIN" maxlength="6">
                    </div>

                    <div class="form-row">
                        <label for="new-pin">New PIN:</label>
                        <input type="password" id="new-pin" placeholder="4-6 digits" maxlength="6">
                    </div>

                    <div class="form-row">
                        <label for="confirm-pin">Confirm PIN:</label>
                        <input type="password" id="confirm-pin" placeholder="Confirm new PIN" maxlength="6">
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-primary" id="change-pin">CHANGE PIN</button>
                        <button class="btn btn-secondary" id="reset-to-default">RESET TO 1234</button>
                    </div>

                    <div id="pin-message"></div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Fokus helps you maintain productivity and focus by blocking distracting content.</p>
            <p class="small">
                Your focus, your future. Every block brings you closer to your goals.
            </p>
        </div>
    </div>

    <script src="options-core.js"></script>
    <script src="options.js"></script>
</body>

</html>